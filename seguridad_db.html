<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Base de Datos - Seguridad</title>
  <link rel="stylesheet" href="Styles/style.css" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1>Base de Datos del Subsistema de Seguridad</h1>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h2>Imagen de la Tabla de Seguridad</h2>
      <div class="mapa-mental">
        <img src="img/seguridad2.png" alt="Tabla de Seguridad" />
      </div>
    </section>

    <section class="card">
      <h2>Pertinencia de la Arquitectura de la Base de Datos</h2>
      <p>
        La arquitectura del subsistema de Seguridad e Higiene es pertinente porque permite llevar 
        un control ordenado de los reportes realizados por los ingenieros en cada proyecto, 
        facilitando la identificación de riesgos y medidas preventivas.
      </p>
    </section>

    <section class="card">
      <h2>Propósito</h2>
      <p>
        El propósito de esta tabla es registrar los reportes de seguridad de cada ingeniero asociados 
        a proyectos específicos, garantizando un historial confiable y accesible.
      </p>
    </section>

    <section class="card">
      <h2>Campos de la Tabla</h2>
      <ul>
        <li><strong>ID_Registro_Seguridad:</strong> Identificador único de cada reporte de seguridad.</li>
        <li><strong>ID_Ingeniero:</strong> Identificador del ingeniero responsable del reporte.</li>
        <li><strong>ID_Proyecto:</strong> Identificador del proyecto donde se genera el reporte.</li>
        <li><strong>Reportes_Seguridad:</strong> Descripción detallada de observaciones o incidencias encontradas.</li>
      </ul>
    </section>

    <section class="card">
      <h2>Normalización</h2>
      <h3>1NF:</h3><p>Todas las columnas contienen valores atómicos, sin listas ni duplicados en un solo campo.</p>
      <h3>2NF:</h3><p>Todos los atributos dependen de la clave primaria (ID_Registro_Seguridad).</p>
      <h3>3NF:</h3><p>No existen dependencias transitivas, ya que los datos de ingenieros y proyectos pueden normalizarse en tablas externas.</p>
    </section>

    <section class="card">
      <h2>Código SQL para Crear la Tabla</h2>
      <pre>
CREATE TABLE Seguridad (
    ID_Registro_Seguridad INT PRIMARY KEY IDENTITY(1,1),
    ID_Ingeniero INT NOT NULL, -- Referencia al trabajador con puesto de Ing. de Seguridad
    ID_Proyecto INT NOT NULL,
    Reportes_Seguridad NVARCHAR(MAX),
    CONSTRAINT FK_Seguridad_Ingeniero FOREIGN KEY (ID_Ingeniero) REFERENCES Trabajadores(ID_Trabajador) ON DELETE CASCADE,
    CONSTRAINT FK_Seguridad_Proyecto FOREIGN KEY (ID_Proyecto) REFERENCES Proyectos(ID_Proyecto) ON DELETE CASCADE
);
GO
      </pre>
    </section>

    <section class="card">
      <h2>Código SQL para Insertar Registros</h2>
      <pre>
INSERT INTO Seguridad (ID_Ingeniero, ID_Proyecto, Reportes_Seguridad)
VALUES
(10, 1, 'Reporte Semanal 1: Se verificó el uso correcto de EPP (Equipo de Protección Personal). No se reportaron incidentes. Se recomienda reforzar señalización en área de excavación.'),
(10, 1, 'Reporte Semanal 2: Incidente menor reportado: caída de herramienta desde un andamio sin consecuencias. Se realizó capacitación de aseguramiento de herramientas.'),
(10, 2, 'Reporte Inicial de Obra: Se establecieron los protocolos de seguridad y las rutas de evacuación. Se realizó inspección de maquinaria y equipo.'),
(3, 3, 'Reporte de Inspección: Se detectó falta de barandales en el segundo nivel. Se detuvo la actividad en la zona hasta su correcta instalación.');

GO
      </pre>
    </section>

    <section class="card">
      <h2>Imagen de la Tabla de Seguridad</h2>
      <div class="mapa-mental">
        <img src="img/registro_seguridad.png" alt="Tabla de Seguridad" />
      </div>
    </section>

    <p><a href="seguridad.html">⬅ Regresar al subsistema de Seguridad</a></p>
  </main>
</body>
</html>
